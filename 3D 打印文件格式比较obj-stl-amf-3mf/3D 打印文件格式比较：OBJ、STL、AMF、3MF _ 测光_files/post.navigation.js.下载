const pageHeader=document.getElementById('blog-hero');const globalNavigation=document.querySelector('.lo-navigation__menu');const pageNavigation=document.querySelector('#fixed-sidebar');const linksContainer=document.querySelector('#side-nav-links');const footer=document.querySelector('[pre-footer]');const headers=document.querySelectorAll('article.blog-post h2');const navHeight=globalNavigation.offsetHeight;if(!headers.length&&pageNavigation){pageNavigation.remove();jQuery('#contentpage').css('margin-left','0')}
function handleScroll(position){window.scroll(0,position-navHeight-20)}
jQuery(document).ready(function($){headers.forEach(function(item){if(!item)return;const positionY=item.getBoundingClientRect().top+document.documentElement.scrollTop;linksContainer.innerHTML+=`
      <li class="nav-item">
        <a onclick="handleScroll(${positionY})" class="nav-link smooth-anchor fixed-sidebar-link">
          ${item.innerText}
        </a>
      </li>
    `})});if(pageHeader&&pageNavigation){const navHeight=globalNavigation.getBoundingClientRect().bottom;const pageNavigationLinks=document.querySelectorAll('.fixed-sidebar-link');window.addEventListener('scroll',function(){const pageHeaderScroll=pageHeader.getBoundingClientRect().bottom;const isFixed=pageNavigation.classList.contains('fixed-sidebar');let activeContainers=[];headers.forEach((item)=>{if(!item)return;if(item.getBoundingClientRect().top-navHeight<=0)activeContainers.push(item.innderText)});const activeElement=activeContainers[activeContainers.length-1];pageNavigationLinks.forEach((item)=>{if(item.innderText===activeElement){item.classList.add('active')}else{item.classList.remove('active')}});activeContainers=[];if(isFixed&&footer.getBoundingClientRect().top<=pageNavigation.getBoundingClientRect().bottom){pageNavigation.classList.add('stick-bottom');pageNavigation.classList.remove('fixed-sidebar')}else if((footer.getBoundingClientRect().top-pageNavigation.getBoundingClientRect().bottom)>0){pageNavigation.classList.remove('stick-bottom')}
if((pageHeaderScroll-navHeight<=0)&&!isFixed){pageNavigation.classList.add('fixed-sidebar');pageNavigation.style.top=`${navHeight}px`;if(window.innerHeight<=pageNavigation.getBoundingClientRect().bottom){pageNavigation.style.bottom='0'}}else if((pageHeaderScroll-navHeight>0)&&isFixed){pageNavigation.classList.remove('fixed-sidebar');pageNavigation.removeAttribute('style')}})}